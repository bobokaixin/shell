<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>LearnShellScript.md</title><link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css'><style type='text/css'>html, body {overflow-x: initial !important;}.CodeMirror { height: auto; }
.CodeMirror-scroll { overflow-y: hidden; overflow-x: auto; }
.CodeMirror-lines { padding: 4px 0px; }
.CodeMirror pre { }
.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { background-color: white; }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background-color: rgb(247, 247, 247); white-space: nowrap; }
.CodeMirror-linenumbers { }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.CodeMirror div.CodeMirror-cursor { border-left: 1px solid black; z-index: 3; }
.CodeMirror div.CodeMirror-secondarycursor { border-left: 1px solid silver; }
.CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursor { width: auto; border: 0px; background: rgb(119, 238, 119); z-index: 1; }
.CodeMirror div.CodeMirror-cursor.CodeMirror-overwrite { }
.cm-tab { display: inline-block; }
.cm-s-typora-default .cm-header, .cm-s-typora-default .cm-property { color: rgb(217, 79, 138); }
.cm-s-typora-default pre.cm-header1:not(.cm-atom) :not(.cm-overlay) { font-size: 2rem; line-height: 2rem; }
.cm-s-typora-default pre.cm-header2:not(.cm-atom) :not(.cm-overlay) { font-size: 1.4rem; line-height: 1.4rem; }
.cm-s-typora-default .cm-atom, .cm-s-typora-default .cm-number { color: rgb(149, 132, 134); }
.cm-s-typora-default .cm-table-row, .cm-s-typora-default .cm-block-start { font-family: monospace; }
.cm-s-typora-default .cm-comment, .cm-s-typora-default .cm-code { color: rgb(74, 90, 159); font-family: monospace; }
.cm-s-typora-default .cm-tag { color: rgb(169, 68, 66); }
.cm-s-typora-default .cm-string { color: rgb(126, 134, 169); }
.cm-s-typora-default .cm-link { color: rgb(196, 122, 15); text-decoration: underline; }
.cm-s-typora-default .cm-variable-2, .cm-s-typora-default .cm-variable-1 { color: inherit; }
.cm-s-typora-default .cm-overlay { font-size: 1rem; font-family: monospace; }
.CodeMirror.cm-s-typora-default div.CodeMirror-cursor { border-left: 3px solid rgb(228, 98, 154); }
.cm-s-typora-default .CodeMirror-activeline-background { left: -60px; right: -30px; background: rgba(204, 204, 204, 0.2); }
.cm-s-typora-default .CodeMirror-gutters { border-right: none; background-color: inherit; }
.cm-s-typora-default .cm-trailing-space-new-line::after, .cm-startspace::after, .cm-starttab .cm-tab::after { content: "•"; position: absolute; left: 0px; opacity: 0; font-family: LetterGothicStd, monospace; }
.os-windows .cm-startspace::after, .os-windows .cm-starttab .cm-tab::after { left: -0.1em; }
.cm-starttab .cm-tab::after { content: " "; }
.cm-startspace, .cm-tab, .cm-starttab, .cm-trailing-space-a, .cm-trailing-space-b, .cm-trailing-space-new-line { font-family: monospace; position: relative; }
.cm-s-typora-default .cm-trailing-space-new-line::after { content: "↓"; opacity: 0.3; }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: black; }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-property { color: black; }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: blue; }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: bold; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: rgb(255, 0, 0); }
.cm-invalidchar { color: rgb(255, 0, 0); }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { margin-bottom: -30px; margin-right: -30px; padding-bottom: 30px; padding-right: 30px; height: 100%; outline: none; position: relative; box-sizing: content-box; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow-x: hidden; overflow-y: scroll; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow-y: hidden; overflow-x: scroll; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: transparent; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-widget { }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.CodeMirror-selected { background: rgb(217, 217, 217); }
.CodeMirror-focused .CodeMirror-selected { background: rgb(215, 212, 240); }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
.CodeMirror span { }
@media print { 
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}
.CodeMirror-lint-markers { width: 16px; }
.CodeMirror-lint-tooltip { background-color: infobackground; border: 1px solid black; border-radius: 4px; color: infotext; font-family: monospace; overflow: hidden; padding: 2px 5px; position: fixed; white-space: pre-wrap; z-index: 10000; max-width: 600px; opacity: 0; transition: opacity 0.4s; font-size: 0.8em; }
.CodeMirror-lint-mark-error, .CodeMirror-lint-mark-warning { background-position: left bottom; background-repeat: repeat-x; }
.CodeMirror-lint-mark-error { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg=="); }
.CodeMirror-lint-marker-error, .CodeMirror-lint-marker-warning { background-position: center center; background-repeat: no-repeat; cursor: pointer; display: inline-block; height: 16px; width: 16px; vertical-align: middle; position: relative; }
.CodeMirror-lint-message-error, .CodeMirror-lint-message-warning { padding-left: 18px; background-position: left top; background-repeat: no-repeat; }
.CodeMirror-lint-marker-error, .CodeMirror-lint-message-error { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII="); }
.CodeMirror-lint-marker-warning, .CodeMirror-lint-message-warning { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII="); }
.CodeMirror-lint-marker-multiple { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC"); background-repeat: no-repeat; background-position: right bottom; width: 100%; height: 100%; }


html { font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { background: rgb(181, 214, 252); text-shadow: none; }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; padding-bottom: 70px; white-space: pre-wrap; overflow-x: auto; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
@media screen and (max-width: 500px) { 
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
.typora-export #write { margin: 0px auto; }
#write > p:first-child, #write > ul:first-child, #write > ol:first-child, #write > pre:first-child, #write > blockquote:first-child, #write > div:first-child, #write > table:first-child { margin-top: 30px; }
#write li > table:first-child { margin-top: -20px; }
img { max-width: 100%; vertical-align: middle; }
input, button, select, textarea { color: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
::before, ::after, * { box-sizing: border-box; }
#write p, #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write div, #write pre { width: inherit; }
#write p, #write h1, #write h2, #write h3, #write h4, #write h5, #write h6 { position: relative; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
p { -webkit-margin-before: 1rem; -webkit-margin-after: 1rem; -webkit-margin-start: 0px; -webkit-margin-end: 0px; }
.mathjax-block { margin-top: 0px; margin-bottom: 0px; -webkit-margin-before: 0rem; -webkit-margin-after: 0rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: bold; font-style: italic; }
a { cursor: pointer; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; margin: 4px 0px 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 80px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
pre { white-space: pre-wrap; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
.md-fences .CodeMirror.CodeMirror-wrap { top: -1.6em; margin-bottom: -1.6em; }
.md-fences.mock-cm { white-space: pre-wrap; }
.show-fences-line-number .md-fences { padding-left: 0px; }
.show-fences-line-number .md-fences.mock-cm { padding-left: 40px; }
.footnotes { opacity: 0.8; font-size: 0.9rem; padding-top: 1em; padding-bottom: 1em; }
.footnotes + .footnotes { margin-top: -1em; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: transparent; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: normal; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li p, li .mathjax-block { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; }
@media print { 
  html, body { height: 100%; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  h1, h2, h3, h4, h5, h6 { break-after: avoid-page; orphans: 2; }
  p { orphans: 4; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 1cm; padding-right: 1cm; }
  .typora-export #write::after { height: 0px; }
  @page { margin: 20mm 0mm; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 2.86rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p .md-image:only-child { display: inline-block; width: 100%; text-align: center; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.mathjax-block { white-space: pre; overflow: hidden; width: 100%; }
p + .mathjax-block { margin-top: -1.143rem; }
.mathjax-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: none; box-shadow: none; }
.task-list { list-style-type: none; }
.task-list-item { position: relative; padding-left: 1em; }
.task-list-item input { position: absolute; top: 0px; left: 0px; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc::after, .md-toc-content::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); text-decoration: none; }
.md-toc-inner:hover { }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: bold; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) { 
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
.md-tag { opacity: 0.5; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: monospace; }
code { text-align: left; }
h1 .md-tag, h2 .md-tag, h3 .md-tag, h4 .md-tag, h5 .md-tag, h6 .md-tag { font-weight: initial; opacity: 0.35; }
a.md-print-anchor { border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: none !important; background: transparent !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.mathjax-block .MathJax_SVG_Display { text-align: center; margin: 1em 0em; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: monospace; }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: normal; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }


@font-face { font-family: "Open Sans"; font-style: normal; font-weight: normal; src: local("Open Sans Regular"), url("./github/400.woff") format("woff"); }
@font-face { font-family: "Open Sans"; font-style: italic; font-weight: normal; src: local("Open Sans Italic"), url("./github/400i.woff") format("woff"); }
@font-face { font-family: "Open Sans"; font-style: normal; font-weight: bold; src: local("Open Sans Bold"), url("./github/700.woff") format("woff"); }
@font-face { font-family: "Open Sans"; font-style: italic; font-weight: bold; src: local("Open Sans Bold Italic"), url("./github/700i.woff") format("woff"); }
html { font-size: 16px; }
body { font-family: "Open Sans", "Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif; color: rgb(51, 51, 51); line-height: 1.6; }
#write { max-width: 860px; margin: 0px auto; padding: 20px 30px 100px; }
#write > ul:first-child, #write > ol:first-child { margin-top: 30px; }
body > :first-child { margin-top: 0px !important; }
body > :last-child { margin-bottom: 0px !important; }
a { color: rgb(65, 131, 196); }
h1, h2, h3, h4, h5, h6 { position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text; }
h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor { text-decoration: none; }
h1 tt, h1 code { font-size: inherit; }
h2 tt, h2 code { font-size: inherit; }
h3 tt, h3 code { font-size: inherit; }
h4 tt, h4 code { font-size: inherit; }
h5 tt, h5 code { font-size: inherit; }
h6 tt, h6 code { font-size: inherit; }
h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
h3 { font-size: 1.5em; line-height: 1.43; }
h4 { font-size: 1.25em; }
h5 { font-size: 1em; }
h6 { font-size: 1em; color: rgb(119, 119, 119); }
p, blockquote, ul, ol, dl, table { margin: 0.8em 0px; }
li > ol, li > ul { margin: 0px; }
hr { height: 4px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border-width: 0px 0px 1px; border-style: none none solid; border-top-color: initial; border-right-color: initial; border-left-color: initial; border-image: initial; overflow: hidden; box-sizing: content-box; border-bottom-color: rgb(221, 221, 221); }
body > h2:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child + h2 { margin-top: 0px; padding-top: 0px; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child { margin-top: 0px; padding-top: 0px; }
a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 { margin-top: 0px; padding-top: 0px; }
h1 p, h2 p, h3 p, h4 p, h5 p, h6 p { margin-top: 0px; }
li p.first { display: inline-block; }
ul, ol { padding-left: 30px; }
ul:first-child, ol:first-child { margin-top: 0px; }
ul:last-child, ol:last-child { margin-bottom: 0px; }
blockquote { border-left: 4px solid rgb(221, 221, 221); padding: 0px 15px; color: rgb(119, 119, 119); }
blockquote blockquote { padding-right: 0px; }
table { padding: 0px; word-break: initial; }
#write { overflow-x: auto; }
table tr { border-top: 1px solid rgb(204, 204, 204); background-color: white; margin: 0px; padding: 0px; }
table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
table tr th { font-weight: bold; border: 1px solid rgb(204, 204, 204); text-align: left; margin: 0px; padding: 6px 13px; }
table tr td { border: 1px solid rgb(204, 204, 204); text-align: left; margin: 0px; padding: 6px 13px; }
table tr th:first-child, table tr td:first-child { margin-top: 0px; }
table tr th:last-child, table tr td:last-child { margin-bottom: 0px; }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); }
.md-fences, code, tt { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); border-radius: 3px; font-family: Consolas, "Liberation Mono", Courier, monospace; padding: 2px 4px 0px; font-size: 0.9em; }
.md-fences { margin-bottom: 15px; margin-top: 15px; padding: 8px 1em 6px; }
.task-list { padding-left: 0px; }
.task-list-item { padding-left: 32px; }
.task-list-item input { top: 3px; left: 8px; }
@media screen and (min-width: 914px) { 
}
@media print { 
  html { font-size: 13px; }
  table, pre { break-inside: avoid; }
  pre { word-wrap: break-word; }
}
.md-fences { background-color: rgb(248, 248, 248); }
#write pre.md-meta-block { padding: 1rem; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border: 0px; border-radius: 3px; color: rgb(119, 119, 119); margin-top: 0px !important; }
.mathjax-block > .code-tooltip { bottom: 0.375rem; }
#write > h3.md-focus::before { left: -1.5625rem; top: 0.375rem; }
#write > h4.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h5.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h6.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
.md-image > .md-meta { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); border-radius: 3px; font-family: Consolas, "Liberation Mono", Courier, monospace; padding: 2px 4px 0px; font-size: 0.9em; color: inherit; }
.md-tag { color: inherit; }
.md-toc { margin-top: 20px; padding-bottom: 20px; }
#typora-quick-open { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); }
#typora-quick-open-item { background-color: rgb(250, 250, 250); border-color: rgb(254, 254, 254) rgb(229, 229, 229) rgb(229, 229, 229) rgb(238, 238, 238); border-style: solid; border-width: 1px; }
#md-notification::before { top: 10px; }
.on-focus-mode blockquote { border-left-color: rgba(85, 85, 85, 0.117647); }
header, .context-menu, .megamenu-content, footer { font-family: "Segoe UI", Arial, sans-serif; }






</style>
</head>
<body class='typora-export' >
<div  id='write'  class = 'is-node'><div class='md-toc' mdtype='toc'><p class="md-toc-content"><span class="md-toc-item md-toc-h1" data-ref="c114"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c114">1.The basis of *nix and shell</a></span><span class="md-toc-item md-toc-h2" data-ref="c6"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c6">1.1 shell</a></span><span class="md-toc-item md-toc-h2" data-ref="c8"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c8">1.2 environment</a></span><span class="md-toc-item md-toc-h2" data-ref="c10"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c10">1.3 Application</a></span><span class="md-toc-item md-toc-h3" data-ref="c11"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c11">1.3.1 crontab</a></span><span class="md-toc-item md-toc-h2" data-ref="c26"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c26">1.4 magic word, the first line</a></span><span class="md-toc-item md-toc-h2" data-ref="c28"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c28">1.5 check the help content//man xx</a></span><span class="md-toc-item md-toc-h2" data-ref="c30"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c30">1.6 HOW-TO define variable , get user input</a></span><span class="md-toc-item md-toc-h1" data-ref="c34"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c34">2.Defference of different shell（ksh,bash,sh)</a></span><span class="md-toc-item md-toc-h2" data-ref="c35"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c35">2.1 'sh', short for shell</a></span><span class="md-toc-item md-toc-h2" data-ref="c41"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c41">2.2 bash vs ksh</a></span><span class="md-toc-item md-toc-h3" data-ref="c46"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c46">2.2.1 characteristics of bash</a></span><span class="md-toc-item md-toc-h1" data-ref="c65"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c65">3 Foreground &amp; Background</a></span><span class="md-toc-item md-toc-h1" data-ref="c69"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c69">4. Special variable &amp; operator &amp; statement</a></span><span class="md-toc-item md-toc-h2" data-ref="c71"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c71">4.1 operator//used in test condition</a></span><span class="md-toc-item md-toc-h2" data-ref="c75"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c75">4.2 condition in statement//use return value</a></span><span class="md-toc-item md-toc-h3" data-ref="c79"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c79">4.2.1 Use true and false as condition</a></span><span class="md-toc-item md-toc-h2" data-ref="c81"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c81">4.3 statements</a></span><span class="md-toc-item md-toc-h2" data-ref="c83"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c83">4.1 flow control//loop control</a></span><span class="md-toc-item md-toc-h1" data-ref="c87"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c87">5.Most common commands:</a></span><span class="md-toc-item md-toc-h1" data-ref="c90"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c90">6.PIPE，HereDoc，STDIN/STDOUT，redirect，operator，special file(fifo,link)</a></span><span class="md-toc-item md-toc-h1" data-ref="c91"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c91">7.Function, arguments</a></span><span class="md-toc-item md-toc-h1" data-ref="c92"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c92">8.shell statements(while,for,if..)</a></span><span class="md-toc-item md-toc-h1" data-ref="c93"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c93">9.awk basis(variable，string，statements,pattern&amp;action）</a></span><span class="md-toc-item md-toc-h1" data-ref="c94"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c94">10.sed basis(AIX)</a></span><span class="md-toc-item md-toc-h1" data-ref="c95"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c95">11.Regex/Glob/Wildcard</a></span><span class="md-toc-item md-toc-h1" data-ref="c96"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c96">12.Different between AIX/Linux commands</a></span><span class="md-toc-item md-toc-h1" data-ref="c97"><a class="md-toc-inner" style="cursor: pointer;" href="#header-c97">13.Debug shell script</a></span></p></div><h1><a name='header-c114' class='md-header-anchor '></a>1.The basis of *nix and shell</h1><h2><a name='header-c6' class='md-header-anchor '></a>1.1 shell</h2><pre class="md-fences md-end-block md-focus" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap    CodeMirror-focused"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 23px; left: 135px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="" style="position: relative;"><pre class=""><span style="padding-right: 0.1px;">system level <span class="cm-attribute">--</span> connector <span class="cm-attribute">--</span> user</span></pre></div><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;">core part <span class="cm-attribute">---</span> command line</span></pre></div><pre class=""><span style="padding-right: 0.1px;">run command <span class="cm-keyword">in</span> command line <span class="cm-attribute">---</span>&gt;shelll interactive session</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">#---------------view </span></span></pre><pre class=""><span style="padding-right: 0.1px;">input <span class="cm-attribute">--</span>&gt; command</span></pre><pre class=""><span style="padding-right: 0.1px;">output <span class="cm-attribute">---</span>&gt; screen output</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">#--------------c++</span></span></pre><pre class=""><span style="padding-right: 0.1px;">no need compile</span></pre><pre class=""><span style="padding-right: 0.1px;">shell environment :</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">1</span>. explain the code</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">2</span>. execute code</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">3</span>. return the result to output</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># ------------- shell script</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">in</span> a word,  group the command into a file</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 368px;"></div></div></div></pre><h2><a name='header-c8' class='md-header-anchor '></a>1.2 environment</h2><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;">ksh, the environment means all initial/baic variables provided by ksh.</span></pre></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">---level</span> <span class="cm-number">0</span> &nbsp; basic vairables: &nbsp; PWD LOGNAME PATH  HOME</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">---level</span> <span class="cm-number">1</span> run profile, to <span class="cm-keyword">set</span> custom variables :  <span class="cm-string">'.'</span>  <span class="cm-comment">#source, means run file in current shell</span></span></pre><pre class=""><span style="padding-right: 0.1px;">level0 <span class="cm-operator">+</span> level <span class="cm-number">1</span> <span class="cm-operator">+</span> ...</span></pre><pre class=""><span style="padding-right: 0.1px;">Execution order:</span></pre><pre class=""><span style="padding-right: 0.1px;">Login/run script/enter command line</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">1</span>. /etc/  <span class="cm-comment"># system profile /etc/bash_profile /etc/profile</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">2</span>. <span class="cm-def">$HOME</span>/.profile  <span class="cm-comment"># used to login , default profile</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">3</span>. shell specific profile, depends on the default shell, used <span class="cm-keyword">for</span> login shell</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">$HOME</span>/.bash_profile  <span class="cm-comment"># usually used in linux. bash</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">4</span>. shell specific script/profile, each time open a shell (non-login)</span></pre><pre class=""><span style="padding-right: 0.1px;">.bashrc</span></pre><pre class=""><span style="padding-right: 0.1px;">.kshrc</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 299px;"></div></div></div></pre><h2><a name='header-c10' class='md-header-anchor '></a>1.3 Application</h2><h3><a name='header-c11' class='md-header-anchor '></a>1.3.1 crontab</h3><p>The default environment is the level 0, 
HOME --- &gt;  $HOME of user
PATH  --&gt; /usr/bin;/bin
Initial path  --&gt;
Will not execute .profile/.bash_profile
<strong>Execute any file in crontab, need to set the profile in the script</strong></p><p>. ~/.profile
ALL scripts deployed in crontab</p><p></p><h2><a name='header-c26' class='md-header-anchor '></a>1.4 magic word, the first line</h2><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#!/usr/bin/ksh &nbsp; #used for OS to identify the file type</span></span></pre></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># text, linux/Unix will read the first line, to find a excutable file to run the file as batch command</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">'#!'</span> the magic word</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#! /bin/sh</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#! env python  #env will search the first location of python executable</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#! /usr/bin/php</span></span></pre><pre class=""><span style="padding-right: 0.1px;">./script.sh </span></pre><pre class=""><span style="padding-right: 0.1px;">OS will <span class="cm-builtin">find</span> the first line, run</span></pre><pre class=""><span style="padding-right: 0.1px;">ksh  ./script.sh</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># the first line will be suppressed.</span></span></pre><pre class=""><span style="padding-right: 0.1px;">script.sh:</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#! /bin/bash</span></span></pre><pre class=""><span style="padding-right: 0.1px;">./script.sh  <span class="cm-attribute">--</span>&gt; load to <span class="cm-builtin">bash</span></span></pre><pre class=""><span style="padding-right: 0.1px;">ksh ./script.sh <span class="cm-attribute">--</span>&gt;load to ksh</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#! `which python`  # /ocs/tool/runtime/bin/python</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#! /bin/bash  --&gt; </span></span></pre><pre class=""><span style="padding-right: 0.1px;">ksh <span class="cm-attribute">-c</span> <span class="cm-string">"/path/to/file.sh"</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># crontab -l</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 414px;"></div></div></div></pre><h2><a name='header-c28' class='md-header-anchor '></a>1.5 check the help content//man xx</h2><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;">man cmd</span></pre></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># default manaual page is shell/ command</span></span></pre><pre class=""><span style="padding-right: 0.1px;">man test <span class="cm-comment">## listed all operators for value compare</span></span></pre><pre class=""><span style="padding-right: 0.1px;">man ksh  <span class="cm-comment">## listed all features for a shell, include statements/variables</span></span></pre><pre class=""><span style="padding-right: 0.1px;">man N cmd <span class="cm-comment"># default N is 1 -- shell command</span></span></pre><pre class=""><span style="padding-right: 0.1px;">man /etc/passwd  <span class="cm-comment">#  system profile</span></span></pre><pre class=""><span style="padding-right: 0.1px;">man <span class="cm-number">2</span> time <span class="cm-comment"># for programmer</span></span></pre><pre class=""><span style="padding-right: 0.1px;">man man <span class="cm-comment"># check manual page no</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># kill -L</span></span></pre><pre class=""><span style="padding-right: 0.1px;">man select <span class="cm-comment"># if no result</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@download] which select</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@download] &nbsp; <span class="cm-comment"># not found, or the command is 'shell internal', so we need to check 'man ksh'</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># print  internal</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-comment"># inerternal or not</span></span></pre><pre class=""><span style="padding-right: 0.1px;">printf <span class="cm-comment"># external command , --- shell</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 391px;"></div></div></div></pre><h2><a name='header-c30' class='md-header-anchor '></a>1.6 HOW-TO define variable , get user input</h2><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap "><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;">fmt:  <span class="cm-def">var</span><span class="cm-operator">=</span>value</span></pre></div><pre class=""><span style="padding-right: 0.1px;">Remarks:  <span class="cm-string">'='</span> , no space is allowed <span class="cm-keyword">in</span> left or right</span></pre><div class="" style="position: relative;"><pre class=""><span style="padding-right: 0.1px;">var <span class="cm-operator">=</span><span class="cm-number">2</span>  <span class="cm-comment"># var will be regarded as command</span></span></pre></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">var</span><span class="cm-operator">=</span> <span class="cm-number">2</span>  <span class="cm-comment"># var= will be regarded as command</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">fmt:  number , by default, shell will treat all variables as string.</span></pre><pre class=""><span style="padding-right: 0.1px;"> Number type, only valid <span class="cm-keyword">in</span> expression</span></pre><pre class=""><span style="padding-right: 0.1px;"> [bobo@download] <span class="cm-builtin">echo</span> <span class="cm-quote">$((var*5)</span>)</span></pre><pre class=""><span style="padding-right: 0.1px;">10</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">fmt:  define string withe space, use double quote or single quote</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">var</span><span class="cm-operator">=</span><span class="cm-string">"a  b "</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">var</span><span class="cm-operator">=</span><span class="cm-string">'a b '</span></span></pre><pre class=""><span style="padding-right: 0.1px;">double vs single</span></pre><pre class=""><span style="padding-right: 0.1px;">double: some special chars still got their special usage, <span class="cm-string">'\',``,$()</span></span></pre><pre class=""><span style="padding-right: 0.1px;">single: all special chars be reargded as normal/raw string</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">'\' ---&gt; use backslash to escape the next char</span></span></pre><pre class=""><span style="padding-right: 0.1px;">\\  <span class="cm-attribute">--</span>&gt;<span class="cm-string">'\'</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">---------------</span></span></pre><pre class=""><span style="padding-right: 0.1px;">distinguish between <span class="cm-string">'escape'</span> and <span class="cm-string">'\magic'</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">'\n'</span>  <span class="cm-comment"># magic word in command, echo /print/sed/grep # newline</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">'\t'</span>  <span class="cm-comment"># tab</span></span></pre><pre class=""><span style="padding-right: 0.1px;">If we don<span class="cm-string">'t want the magic word or special char act as it'</span>s real meaning, we use <span class="cm-string">'\' to escape</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">"\\n"</span>  <span class="cm-attribute">--</span>&gt;r<span class="cm-string">'\n'</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">"\*"</span>  <span class="cm-attribute">--</span>&gt;r<span class="cm-string">'*''</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@download] print <span class="cm-string">'ab\ncd'</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">ab</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">cd</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@download] print <span class="cm-string">"ab\ncd"</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">ab</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">cd</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@download] </span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">escape from left to right, the quote matches from left to right</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">Double quot total number must be even number, or shell will consider the quote not finished</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@download] <span class="cm-builtin">echo</span> <span class="cm-string">"a"</span>b<span class="cm-string">"c</span></span></pre><pre class=""><span style="padding-right: 0.1px;">&gt; &nbsp; <span class="cm-comment"># prompt to line to contine, '&gt;' --&gt; PS2</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@download] <span class="cm-keyword">export</span> <span class="cm-def">PS2</span><span class="cm-operator">=</span><span class="cm-string">"#"</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@download] <span class="cm-builtin">echo</span> <span class="cm-string">"a"</span>b<span class="cm-string">"c &nbsp; </span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">#</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">fmt: define varibale with mutiple lines</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">var</span><span class="cm-operator">=</span><span class="cm-string">"a</span></span></pre><pre class=""><span style="padding-right: 0.1px;">b &nbsp; &nbsp; &nbsp; <span class="cm-comment"># each enter will be regarded as new line</span></span></pre><pre class=""><span style="padding-right: 0.1px;">c<span class="cm-string">"</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">var</span><span class="cm-operator">=</span><span class="cm-string">"b^Jb^Jc"</span> &nbsp;  <span class="cm-comment"># '^J' --&gt;when we trace back the command history, indicates for new line</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">Remarks:</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">1</span>. If we want to view the real value <span class="cm-keyword">for</span> multiple line varibale, we must use <span class="cm-string">"</span><span class="cm-def">$var</span><span class="cm-string">"</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@download] <span class="cm-builtin">echo</span> <span class="cm-string">"</span><span class="cm-def">$var</span><span class="cm-string">"</span></span></pre><pre class=""><span style="padding-right: 0.1px;">b</span></pre><pre class=""><span style="padding-right: 0.1px;">b</span></pre><pre class=""><span style="padding-right: 0.1px;">c</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">2</span>. Otherwise, <span class="cm-string">'echo $var'</span>, the new line will  be suppressed,</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@download] <span class="cm-builtin">echo</span> <span class="cm-def">$var</span></span></pre><pre class=""><span style="padding-right: 0.1px;">b b c</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@download] </span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">3</span>. Furthermore , <span class="cm-keyword">for</span> command result <span class="cm-quote">`cmd`</span>, sometimes it is multiple-line value</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-quote">`cmd`</span> <span class="cm-comment">## transform to oneline</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-string">"`cmd`"</span>  <span class="cm-comment">## real value</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] <span class="cm-builtin">echo</span> <span class="cm-string">"`ls`"</span>|wc <span class="cm-attribute">-l</span></span></pre><pre class=""><span style="padding-right: 0.1px;">12</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] <span class="cm-builtin">echo</span> <span class="cm-string">"`ls`"</span></span></pre><pre class=""><span style="padding-right: 0.1px;">algorithm</span></pre><pre class=""><span style="padding-right: 0.1px;">backup</span></pre><pre class=""><span style="padding-right: 0.1px;">cpp</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] <span class="cm-builtin">echo</span> <span class="cm-quote">`ls`</span></span></pre><pre class=""><span style="padding-right: 0.1px;">algorithm backup cpp graphviz oracle perl python <span class="cm-builtin">sh</span> shell sql tmp topic</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] <span class="cm-builtin">echo</span> <span class="cm-quote">`ls`</span>|wc <span class="cm-attribute">-l</span></span></pre><pre class=""><span style="padding-right: 0.1px;">1</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] </span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">fmt: <span class="cm-def">var</span><span class="cm-operator">=</span><span class="cm-string">"a\  # add '\' in the end(no space )</span></span></pre><pre class=""><span style="padding-right: 0.1px;">b\  <span class="cm-comment"># as  one line</span></span></pre><pre class=""><span style="padding-right: 0.1px;">c</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">"</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] <span class="cm-def">var</span><span class="cm-operator">=</span><span class="cm-string">"a\</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">#b</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">#c\</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">#d"</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> [bobo@test] <span class="cm-builtin">echo</span> <span class="cm-string">"</span><span class="cm-def">$var</span><span class="cm-string">"</span> &nbsp; &nbsp; &nbsp; </span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">ab</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">cd</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] </span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">fmt: use <span class="cm-string">'let'</span> to define or calculate/assignment  <span class="cm-comment">#universal for AIX/linux, ksh/bash ..., not  valid for string, only calculate/definition</span></span></pre><pre class=""><span style="padding-right: 0.1px;">let <span class="cm-def">var</span><span class="cm-operator">=</span>value  <span class="cm-comment"># assign, define</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] let <span class="cm-def">a</span><span class="cm-operator">=</span>2</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] <span class="cm-builtin">echo</span> <span class="cm-def">$a</span></span></pre><pre class=""><span style="padding-right: 0.1px;">2</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] </span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] let <span class="cm-def">b</span><span class="cm-operator">=</span>3</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] <span class="cm-builtin">echo</span> <span class="cm-def">$b</span></span></pre><pre class=""><span style="padding-right: 0.1px;">3</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] let <span class="cm-def">c</span><span class="cm-operator">=</span>a<span class="cm-operator">+</span>b  <span class="cm-comment">#calculate,  c=$((a+b)), c=$a+$b</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] <span class="cm-builtin">echo</span> <span class="cm-def">$c</span></span></pre><pre class=""><span style="padding-right: 0.1px;">5</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] typeset <span class="cm-def">c</span><span class="cm-operator">=</span><span class="cm-string">"abc"</span>  <span class="cm-comment"># c="abc"</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@test] <span class="cm-builtin">echo</span> <span class="cm-def">$c</span></span></pre><pre class=""><span style="padding-right: 0.1px;">abc</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 2507px;"></div></div></div></pre><p></p><h1><a name='header-c34' class='md-header-anchor '></a>2.Defference of different shell（ksh,bash,sh)</h1><h2><a name='header-c35' class='md-header-anchor '></a>2.1 &#39;sh&#39;, short for shell</h2><p>sh is the oldest shell, </p><p>In modern UNIX, it&#39;s not the original oldest shell,  it&#39;s a link to a default shell</p><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">ls</span> <span class="cm-attribute">-l</span> /bin/sh</span></pre></div><pre class=""><span style="padding-right: 0.1px;">lrwxrwxrwx <span class="cm-number">1</span> root root <span class="cm-number">4</span> <span class="cm-number">3</span>月  <span class="cm-number">11</span> <span class="cm-number">16</span>:41 /bin/sh <span class="cm-attribute">-</span>&gt; <span class="cm-builtin">bash</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># on AIX</span></span></pre><pre class=""><span style="padding-right: 0.1px;">link to ksh</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># on Linux</span></span></pre><pre class=""><span style="padding-right: 0.1px;">link to <span class="cm-builtin">bash</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-meta">#!/bin/sh  -- &gt;#! ksh or bash</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 161px;"></div></div></div></pre><h2><a name='header-c41' class='md-header-anchor '></a>2.2 bash vs ksh</h2><p>Mostly used in modern linux. For AIX , use ksh
AIX, bsh is not bash, </p><pre class="md-fences md-end-block" lang="shel"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;">ocs@MTG8_OCS1_1:[/ocs]$cat /etc/shells</span></pre></div><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">/bin/csh</span></pre><pre class=""><span style="padding-right: 0.1px;">/bin/ksh</span></pre><pre class=""><span style="padding-right: 0.1px;">/bin/psh</span></pre><pre class=""><span style="padding-right: 0.1px;">/bin/tsh</span></pre><pre class=""><span style="padding-right: 0.1px;">/bin/bsh</span></pre><pre class=""><span style="padding-right: 0.1px;">/usr/bin/csh</span></pre><pre class=""><span style="padding-right: 0.1px;">/usr/bin/ksh</span></pre><pre class=""><span style="padding-right: 0.1px;">/usr/bin/psh</span></pre><pre class=""><span style="padding-right: 0.1px;">/usr/bin/tsh</span></pre><pre class=""><span style="padding-right: 0.1px;">/usr/bin/bsh</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 276px;"></div></div></div></pre><h3><a name='header-c46' class='md-header-anchor '></a>2.2.1 characteristics of bash</h3><ol start='' ><li><p>expression </p><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;">File name: </span></pre></div><pre class=""><span style="padding-right: 0.1px;">[^0-9] &nbsp; ^--exclude [0-9]:0 <span class="cm-number">1</span> ...</span></pre><pre class=""><span style="padding-right: 0.1px;">{a,b}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 69px;"></div></div></div></pre></li><li><p>child-shell / sub-shell</p><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">in</span> a shell script, when we run /call a command , we run it <span class="cm-keyword">in</span> the current shell.</span></pre></div><pre class=""><span style="padding-right: 0.1px;">When we run <span class="cm-quote">`date`</span> <span class="cm-quote">$(date)</span> date|wc <span class="cm-attribute">-l</span>, we spawn a sub-shell, run the command <span class="cm-keyword">in</span> the child-shell:</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">1</span>. Inherent all the variables from the parent/current shell</span></pre><pre class=""><span style="padding-right: 0.1px;">PWD</span></pre><pre class=""><span style="padding-right: 0.1px;">HOME</span></pre><pre class=""><span style="padding-right: 0.1px;">LOGNAME  <span class="cm-comment"># username</span></span></pre><pre class=""><span style="padding-right: 0.1px;">bobo@ubuntu:/media/Data/Work/CodeLib/test/sh<span class="cm-def">$ abc</span><span class="cm-operator">=</span><span class="cm-number">123</span>  <span class="cm-comment"># defined in current shell</span></span></pre><pre class=""><span style="padding-right: 0.1px;">bobo@ubuntu:/media/Data/Work/CodeLib/test/sh<span class="cm-def">$ echo</span> <span class="cm-quote">`echo </span><span class="cm-def">$abc</span><span class="cm-quote">`</span>  <span class="cm-comment"># can be accessed in sub-shell</span></span></pre><pre class=""><span style="padding-right: 0.1px;">123</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">2</span>. The output of child-shell will redirect to parent</span></pre><pre class=""><span style="padding-right: 0.1px;">The variable value cannot pass from child to parent</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">echo</span> <span class="cm-quote">`dde=abc`</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">echo</span> <span class="cm-def">$dde</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] </span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">3</span>. cmd1 | cmd2 | cmd3</span></pre><pre class=""><span style="padding-right: 0.1px;">cmd1, cmd2, cmd3 run parallel <span class="cm-keyword">in</span> <span class="cm-number">3</span> child-shell</span></pre><pre class=""><span style="padding-right: 0.1px;">input--&gt;cmd1 <span class="cm-attribute">--</span>&gt;output  &lt;--cmd2 <span class="cm-attribute">--</span>&gt;output &lt;---cmd3--&gt;output</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 460px;"></div></div></div></pre><h3><a name='header-c56' class='md-header-anchor '></a>2.2.2 characteristics of ksh</h3><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;">cmd1 | cmd2 | cmd3</span></pre></div><pre class=""><span style="padding-right: 0.1px;">The last command cmd3 run on current shell</span></pre><pre class=""><span style="padding-right: 0.1px;">cmd1 and cmd2 run <span class="cm-keyword">in</span> chld-shell</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">ls</span> ~|grep <span class="cm-string">".sh"</span>|while read line</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">do</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-def">var</span><span class="cm-operator">=</span><span class="cm-def">$line</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">done</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-string">"last line: </span><span class="cm-def">$var</span><span class="cm-string">"</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">bash</span> test.sh</span></pre><pre class=""><span style="padding-right: 0.1px;">last line: </span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] </span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] ksh test.sh</span></pre><pre class=""><span style="padding-right: 0.1px;">last line: userenv.sh</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] </span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 368px;"></div></div></div></pre></li></ol><pre class='md-fences mock-cm' style='display:block;position:relative'>
   ​

# 3.Start from hello world

Main entry --&gt; start from the first command
&#39;#&#39; comment line  
echo &quot;String&quot; /String

[bobo@sh] which print
/usr/bin/print
[bobo@sh] which printf
/usr/bin/printf
[bobo@sh] 

​```shell
printf &quot;format description, %8d%s&quot; &quot;first string/param&quot;  &quot;secdond string/param&quot;
[bobo@sh] printf &quot;This is %2d number %#8s format\n&quot;  0.22222  test     
This is 00 number test format
d- decimal
s- string
f-float
%xxd/s/f
print a bit different with echo
</pre><p></p><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] hw.sh</span></pre></div><pre class=""><span style="padding-right: 0.1px;">Hellow World!  <span class="cm-comment"># screen == STDOUT, standard output == standard normal output </span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh]</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">## STDOUT  -- file description  1</span></span></pre><pre class=""><span style="padding-right: 0.1px;">hw.sh <span class="cm-comment"># Default output --&gt; STDOUT --&gt;screen</span></span></pre><pre class=""><span style="padding-right: 0.1px;">hw.sh <span class="cm-number">1</span>&gt;logfile</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">'&gt;'</span>  rediect output to file</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># append the 'rediect' identifier to comamnd</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">## STDERR  -- file description 2, met some error, will output to STDERR, default location is also the screen, as default, 1 and 2 will both print on screen</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[oracle@MTG8_OCSDB2_1/oracle/report_scripts]<span class="cm-quote">$(pwd;mkdir -p /root)</span>  (cmd1; cmd2) <span class="cm-comment"># put commands in a group, delimiter is ';'</span></span></pre><pre class=""><span style="padding-right: 0.1px;">/oracle/report_scripts &nbsp; <span class="cm-comment"># standard output/normal output</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">mkdir</span>: <span class="cm-number">0653</span><span class="cm-attribute">-357</span> Cannot access directory /. <span class="cm-comment"># err output</span></span></pre><pre class=""><span style="padding-right: 0.1px;">/: The file access permissions <span class="cm-keyword">do</span> not allow the specified action. <span class="cm-comment"># err output</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[oracle@MTG8_OCSDB2_1/oracle/report_scripts]<span class="cm-def">$</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[oracle@MTG8_OCSDB2_1/oracle/report_scripts]<span class="cm-quote">$(pwd;mkdir -p /root)</span> <span class="cm-number">1</span>&gt;normalout <span class="cm-number">2</span>&gt;errout</span></pre><pre class=""><span style="padding-right: 0.1px;">[oracle@MTG8_OCSDB2_1/oracle/report_scripts]<span class="cm-def">$cat</span> normalout </span></pre><pre class=""><span style="padding-right: 0.1px;">/oracle/report_scripts</span></pre><pre class=""><span style="padding-right: 0.1px;">[oracle@MTG8_OCSDB2_1/oracle/report_scripts]<span class="cm-def">$</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[oracle@MTG8_OCSDB2_1/oracle/report_scripts]<span class="cm-def">$cat</span> errout </span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">mkdir</span>: <span class="cm-number">0653</span><span class="cm-attribute">-357</span> Cannot access directory /.</span></pre><pre class=""><span style="padding-right: 0.1px;">/: The file access permissions <span class="cm-keyword">do</span> not allow the specified action.</span></pre><pre class=""><span style="padding-right: 0.1px;">[oracle@MTG8_OCSDB2_1/oracle/report_scripts]<span class="cm-def">$</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">Note:</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">1</span>. Be careful with Number and <span class="cm-string">'&gt;'</span></span></pre><pre class=""><span style="padding-right: 0.1px;">N&gt;  <span class="cm-comment"># redirect</span></span></pre><pre class=""><span style="padding-right: 0.1px;">N &gt; <span class="cm-comment"># N--command or argument,  '&gt;'  equals to '1&gt;'</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">1</span> &gt;FILE</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">'&gt;&gt;'</span> <span class="cm-comment"># Append to file</span></span></pre><pre class=""><span style="padding-right: 0.1px;">e.g.</span></pre><pre class=""><span style="padding-right: 0.1px;">/path/to/script &nbsp;  <span class="cm-number">1</span>&gt;/dev/null  <span class="cm-comment"># 1&gt;&gt;/dev/null , equal</span></span></pre><pre class=""><span style="padding-right: 0.1px;">/path/to/script &nbsp;  <span class="cm-number">2</span>&gt;/dev/null</span></pre><pre class=""><span style="padding-right: 0.1px;">/path/to/script &nbsp;  <span class="cm-number">1</span>&gt;/dev/null <span class="cm-number">2</span>&gt;/dev/null</span></pre><pre class=""><span style="padding-right: 0.1px;">/path/to/script &nbsp;  <span class="cm-number">1</span>&gt;/dev/null <span class="cm-number">2</span>&gt;&amp;1  <span class="cm-comment"># short for 2&gt;STDOUT</span></span></pre><pre class=""><span style="padding-right: 0.1px;">/path/to/script &nbsp;  <span class="cm-number">1</span>&gt;&amp;2 <span class="cm-number">2</span>&gt;file  <span class="cm-comment"># short for 2&gt;STDOUT</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">'&amp;N'</span>  <span class="cm-comment"># stand for the file description Number &amp;1 STDOUT,  &amp;2  STDERR</span></span></pre><pre class=""><span style="padding-right: 0.1px;">&amp;4 &amp;5 ...  <span class="cm-comment"># file description not opened. # exec 5 &lt;&gt; file</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">/dev/null <span class="cm-comment"># special device , accept any input, nothing output</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[oracle@MTG8_OCSDB2_1/oracle/report_scripts]<span class="cm-def">$ls</span> <span class="cm-attribute">-l</span> /dev/null</span></pre><pre class=""><span style="padding-right: 0.1px;">crw-rw-rw- &nbsp;  <span class="cm-number">1</span> root &nbsp; &nbsp; system &nbsp; &nbsp; &nbsp;  <span class="cm-number">2</span>,  <span class="cm-number">2</span> Mar <span class="cm-number">13</span> <span class="cm-number">15</span>:46 /dev/null</span></pre><pre class=""><span style="padding-right: 0.1px;">[oracle@MTG8_OCSDB2_1/oracle/report_scripts]<span class="cm-def">$ls</span> <span class="cm-attribute">-l</span> /dev/zero</span></pre><pre class=""><span style="padding-right: 0.1px;">crw-rw-rw- &nbsp;  <span class="cm-number">1</span> root &nbsp; &nbsp; system &nbsp; &nbsp; &nbsp;  <span class="cm-number">2</span>,  <span class="cm-number">3</span> Jul <span class="cm-number">23</span> <span class="cm-number">2015</span>  /dev/zero</span></pre><pre class=""><span style="padding-right: 0.1px;">[oracle@MTG8_OCSDB2_1/oracle/report_scripts]<span class="cm-def">$</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1150px;"></div></div></div></pre><p></p><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">chmod</span> <span class="cm-operator">+</span>x hw.sh  <span class="cm-comment">## add the file to the PATH search list</span></span></pre></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># AIX:  chmod -x hw.sh, when we want to call 'hw.sh', canot find the file,</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># system only try to find the 'executable' file in PATH</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">-rw-r--r--</span> <span class="cm-number">1</span> bobo dba <span class="cm-number">34</span> <span class="cm-number">3</span>月  <span class="cm-number">13</span> <span class="cm-number">15</span>:25 hw.sh</span></pre><pre class=""><span style="padding-right: 0.1px;">Basic: <span class="cm-number">10</span> digits</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">-</span> <span class="cm-comment"># file</span></span></pre><pre class=""><span style="padding-right: 0.1px;">d <span class="cm-comment"># direcotry</span></span></pre><pre class=""><span style="padding-right: 0.1px;">p <span class="cm-comment"># pipe file</span></span></pre><pre class=""><span style="padding-right: 0.1px;">l <span class="cm-comment"># link </span></span></pre><pre class=""><span style="padding-right: 0.1px;">owner|group user|others</span></pre><pre class=""><span style="padding-right: 0.1px;">rwx|rwx|rwx</span></pre><pre class=""><span style="padding-right: 0.1px;">w  <span class="cm-comment"># writable 4 </span></span></pre><pre class=""><span style="padding-right: 0.1px;">r  <span class="cm-comment"># read  2</span></span></pre><pre class=""><span style="padding-right: 0.1px;">x <span class="cm-comment"># execute 1</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">777</span>  rwx|rwx|rwx</span></pre><pre class=""><span style="padding-right: 0.1px;">When we crate a file, default permission <span class="cm-comment"># mask/umask  </span></span></pre><pre class=""><span style="padding-right: 0.1px;">[root@MTG8_OCS1_1/]<span class="cm-comment">#umask</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">022</span> &nbsp; <span class="cm-comment"># (7-0)(7-2)(7-2)  default folder permission </span></span></pre><pre class=""><span style="padding-right: 0.1px;">drwxr-xr-x &nbsp;  <span class="cm-number">2</span> root &nbsp; &nbsp; system &nbsp; &nbsp; &nbsp; &nbsp;  <span class="cm-number">256</span> Mar <span class="cm-number">13</span> <span class="cm-number">15</span>:32 motest</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp; &nbsp;  <span class="cm-comment">#  644  default file permission, default not allow file to execute</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">-rw-r--r--</span> &nbsp;  <span class="cm-number">1</span> root &nbsp; &nbsp; system &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <span class="cm-number">0</span> Mar <span class="cm-number">13</span> <span class="cm-number">15</span>:30 motest</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 506px;"></div></div></div></pre><h1><a name='header-c65' class='md-header-anchor '></a>3 Foreground &amp; Background</h1><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap "><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;">Next command need to wait <span class="cm-attribute">--</span> run script foreground</span></pre></div><pre class=""><span style="padding-right: 0.1px;">Run command <span class="cm-keyword">in</span> background ( Append <span class="cm-string">'&amp;'</span> to the last )--- run <span class="cm-keyword">in</span> background</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">sleep</span> <span class="cm-number">100</span> &amp;</span></pre><pre class=""><span style="padding-right: 0.1px;">[1]<span class="cm-tab"> </span>31836</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] </span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">echo</span> <span class="cm-def">$!</span></span></pre><pre class=""><span style="padding-right: 0.1px;">31836</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">sleep</span> <span class="cm-number">200</span> &amp;</span></pre><pre class=""><span style="padding-right: 0.1px;">[2]<span class="cm-tab"> </span>31870</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">echo</span> <span class="cm-def">$!</span> &nbsp;  </span></pre><div class="" style="position: relative;"><pre class=""><span style="padding-right: 0.1px;">31870</span></pre></div><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] jobs <span class="cm-attribute">-l</span>  <span class="cm-comment">#detailed, include PID</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[2] <span class="cm-operator">+</span> <span class="cm-number">31870</span><span class="cm-tab"> </span> Running &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-builtin">sleep</span> <span class="cm-number">200</span> &amp;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">1</span>. Got the background process id, <span class="cm-string">'$!'</span> stands <span class="cm-keyword">for</span> the previous background process<span class="cm-string">' PID</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">2</span>. Use <span class="cm-string">'jobs'</span> command to view all bg process</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">'fg %N'</span> to bring background process to foreground</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] fg %2</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">sleep</span> <span class="cm-number">200</span> </span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">'kill %N'</span> to <span class="cm-builtin">kill</span> background process</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] jobs</span></pre><pre class=""><span style="padding-right: 0.1px;">[2] <span class="cm-operator">+</span>  Running &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-builtin">sleep</span> <span class="cm-number">100</span> &amp;</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">kill</span> %2 </span></pre><pre class=""><span style="padding-right: 0.1px;">[2] <span class="cm-operator">+</span> Terminated &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-builtin">sleep</span> <span class="cm-number">100</span> &amp;</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] </span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">'Ctrl +Z '</span> to bring foreground to stopped at background</span></pre><pre class=""><span style="padding-right: 0.1px;">^Z[2] <span class="cm-operator">+</span> Stopped &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <span class="cm-builtin">sleep</span> <span class="cm-number">200</span> &amp;</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] </span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">'bg %N'</span> to <span class="cm-builtin">start</span> background process, still <span class="cm-keyword">in</span> background</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] bg %2</span></pre><pre class=""><span style="padding-right: 0.1px;">[2]<span class="cm-tab"> </span><span class="cm-builtin">sleep</span> <span class="cm-number">200</span> &amp;</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] jobs <span class="cm-attribute">-l</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[2] <span class="cm-operator">+</span> <span class="cm-number">31870</span><span class="cm-tab"> </span> Running &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-builtin">sleep</span> <span class="cm-number">200</span> &amp;</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] </span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">3</span>. Background process will <span class="cm-keyword">exit</span> after parent shell terminated.</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">ps</span> <span class="cm-attribute">-ef</span>|grep 31503</span></pre><pre class=""><span style="padding-right: 0.1px;">bobo &nbsp; &nbsp; <span class="cm-number">31503</span> <span class="cm-number">31493</span>  <span class="cm-number">0</span> <span class="cm-number">16</span>:01 pts/0 &nbsp;  <span class="cm-number">00</span>:00:00 /usr/bin/ksh</span></pre><pre class=""><span style="padding-right: 0.1px;">bobo &nbsp; &nbsp; <span class="cm-number">31966</span> <span class="cm-number">31503</span>  <span class="cm-number">0</span> <span class="cm-number">16</span>:16 pts/0 &nbsp;  <span class="cm-number">00</span>:00:00 /usr/bin/ksh  <span class="cm-comment"># 31966 for sleep</span></span></pre><pre class=""><span style="padding-right: 0.1px;">bobo &nbsp; &nbsp; <span class="cm-number">32022</span> <span class="cm-number">31977</span>  <span class="cm-number">0</span> <span class="cm-number">16</span>:16 pts/1 &nbsp;  <span class="cm-number">00</span>:00:00 <span class="cm-builtin">grep</span> <span class="cm-attribute">--color</span><span class="cm-operator">=</span>auto 31503</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] </span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">ps</span> <span class="cm-attribute">-ef</span>|grep 31503</span></pre><pre class=""><span style="padding-right: 0.1px;">bobo &nbsp; &nbsp; <span class="cm-number">32063</span> <span class="cm-number">31977</span>  <span class="cm-number">0</span> <span class="cm-number">16</span>:17 pts/1 &nbsp;  <span class="cm-number">00</span>:00:00 <span class="cm-builtin">grep</span> <span class="cm-attribute">--color</span><span class="cm-operator">=</span>auto <span class="cm-number">31503</span> <span class="cm-comment">#parent shell terminated, all bg processeds exit</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] </span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">nohup cmd <span class="cm-string">'&amp;'</span> <span class="cm-attribute">--</span>&gt; parent terminated,  child keep running</span></pre><pre class=""><span style="padding-right: 0.1px;">nohup  <span class="cm-comment"># not work</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">parent PID</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">----child</span> PID <span class="cm-number">1</span> </span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">----child</span> PID 2</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">1</span><span class="cm-attribute">---</span> init process</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">--------child</span> PID 1</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">Note <span class="cm-keyword">for</span> nohup:</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">1</span>. Default output file nohup.out</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">2</span>. Usually we rediect to other files or /dev/null</span></pre><pre class=""><span style="padding-right: 0.1px;">bobo &nbsp; &nbsp; <span class="cm-number">32173</span> <span class="cm-number">31977</span>  <span class="cm-number">0</span> <span class="cm-number">16</span>:21 pts/1 &nbsp;  <span class="cm-number">00</span>:00:00 <span class="cm-builtin">sleep</span> 100</span></pre><pre class=""><span style="padding-right: 0.1px;">bobo &nbsp; &nbsp; <span class="cm-number">32173</span> &nbsp; &nbsp; <span class="cm-number">1</span>  <span class="cm-number">0</span> <span class="cm-number">16</span>:21 ? &nbsp; &nbsp; &nbsp;  <span class="cm-number">00</span>:00:00 <span class="cm-builtin">sleep</span> 1000</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">4</span>. As default, the output of background process will be passed to the parent/current shell</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">cat</span> hw.sh</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">i</span><span class="cm-operator">=</span>1</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">while</span> [ <span class="cm-def">$i</span> <span class="cm-attribute">-le</span> <span class="cm-number">10</span> ]</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">do</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-builtin">echo</span> <span class="cm-string">"output"</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-builtin">mkdir</span> /root/bula</span></pre><pre class=""><span style="padding-right: 0.1px;"> &nbsp;  let <span class="cm-def">i</span><span class="cm-operator">=</span>i<span class="cm-operator">+</span>1</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">done</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] hw.sh &amp;i</span></pre><pre class=""><span style="padding-right: 0.1px;">[1]<span class="cm-tab"> </span>32335</span></pre><pre class=""><span style="padding-right: 0.1px;">output</span></pre><pre class=""><span style="padding-right: 0.1px;">/usr/bin/ksh: i: not found [没有那个文件或目录]</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">mkdir</span>: 无法创建目录<span class="cm-string">"/root/bula"</span>: 权限不够</span></pre><pre class=""><span style="padding-right: 0.1px;">output</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">mkdir</span>: 无法创建目录<span class="cm-string">"/root/bula"</span>[bobo@sh] : 权限不够</span></pre><pre class=""><span style="padding-right: 0.1px;">output</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">5</span>. Use <span class="cm-string">'wait'</span> to wait all background process <span class="cm-keyword">exit</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] time (sleep <span class="cm-number">5</span> &amp;; <span class="cm-builtin">sleep</span> <span class="cm-number">10</span> &amp; ; wait;echo OK)</span></pre><pre class=""><span style="padding-right: 0.1px;">[1]<span class="cm-tab"> </span>32450</span></pre><pre class=""><span style="padding-right: 0.1px;">[2]<span class="cm-tab"> </span>32451</span></pre><pre class=""><span style="padding-right: 0.1px;">OK  <span class="cm-comment">#show after 10 s</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">real<span class="cm-tab">    </span>0m10.05s</span></pre><pre class=""><span style="padding-right: 0.1px;">user<span class="cm-tab">    </span>0m0.00s</span></pre><pre class=""><span style="padding-right: 0.1px;">sys<span class="cm-tab"> </span>0m0.00s</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 2093px;"></div></div></div></pre><p></p><h1><a name='header-c69' class='md-header-anchor '></a>4. Special variable &amp; operator &amp; statement</h1><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">$!</span>  <span class="cm-comment"># previous backgorund process PID</span></span></pre></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">$?</span>  <span class="cm-comment"># return value of "previous" command</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># similar to C++ 'return'</span></span></pre><pre class=""><span style="padding-right: 0.1px;">Sucess:  0</span></pre><pre class=""><span style="padding-right: 0.1px;">Fail: &nbsp;  non-zero,  <span class="cm-number">1</span> <span class="cm-number">2</span> 255</span></pre><pre class=""><span style="padding-right: 0.1px;">return to main process/current shell</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">echo</span> OK</span></pre><pre class=""><span style="padding-right: 0.1px;">OK</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">echo</span> <span class="cm-def">$?</span></span></pre><pre class=""><span style="padding-right: 0.1px;">0</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">mkdir</span> <span class="cm-attribute">-p</span> /root/avc</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-builtin">mkdir</span>: 无法创建目录<span class="cm-string">"/root"</span>: 权限不够</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">echo</span> <span class="cm-def">$?</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=""><span style="padding-right: 0.1px;">1</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] </span></pre><pre class=""><span style="padding-right: 0.1px;">Note: The command to check return value must follow the previouse command, <span class="cm-string">'enter'</span> not cound</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">'echo $?'</span> is also a command</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">$1</span> <span class="cm-def">$2</span> <span class="cm-def">$3</span> <span class="cm-def">$4</span> <span class="cm-def">$5</span></span></pre><pre class=""><span style="padding-right: 0.1px;">a b c d e</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">var</span><span class="cm-operator">=</span><span class="cm-def">$1</span> &nbsp; <span class="cm-comment"># var=a</span></span></pre><pre class=""><span style="padding-right: 0.1px;">shift &nbsp; <span class="cm-comment"># </span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">$1</span> <span class="cm-def">$2</span> <span class="cm-def">$3</span> <span class="cm-def">$4</span>  <span class="cm-comment"># maximum location reduced from $5 -&gt;$4</span></span></pre><pre class=""><span style="padding-right: 0.1px;">b c d e &nbsp; <span class="cm-comment"># argument reduced from left</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">var</span><span class="cm-operator">=</span><span class="cm-def">$1</span> <span class="cm-comment"># var=b</span></span></pre><pre class=""><span style="padding-right: 0.1px;">shift 2</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">$1</span> <span class="cm-def">$2</span> &nbsp; <span class="cm-comment"># maximum location reduced from $4 -&gt;$2</span></span></pre><pre class=""><span style="padding-right: 0.1px;">d e &nbsp; <span class="cm-comment"># argument reduced from left for 2 </span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">var</span><span class="cm-operator">=</span><span class="cm-def">$1</span> <span class="cm-comment"># var=d</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">$0</span> &nbsp; &nbsp; argv[0] script file name</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">$1</span> .. <span class="cm-def">$N</span>  script parameter, correpdonding to it<span class="cm-string">'s location</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">$$</span> &nbsp; script processs ID</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] hw.sh a b c</span></pre><pre class=""><span style="padding-right: 0.1px;">Script Name: hw.sh</span></pre><pre class=""><span style="padding-right: 0.1px;">Script PID: 407</span></pre><pre class=""><span style="padding-right: 0.1px;">First parameter: a</span></pre><pre class=""><span style="padding-right: 0.1px;">Second parameter: b</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">$*</span> &nbsp; parameter list as one string</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">$@</span> &nbsp; parameter list as a list</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] hw.sh a b c</span></pre><pre class=""><span style="padding-right: 0.1px;">Script Name: hw.sh</span></pre><pre class=""><span style="padding-right: 0.1px;">Script PID: 508</span></pre><pre class=""><span style="padding-right: 0.1px;">parameter list: a b c</span></pre><pre class=""><span style="padding-right: 0.1px;">parameter list: a b c</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">**shell parameter delimiter is space, and quoted string will be regarded as one string/parameter**</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] hw.sh a <span class="cm-string">"b c"</span></span></pre><pre class=""><span style="padding-right: 0.1px;">Script Name: hw.sh</span></pre><pre class=""><span style="padding-right: 0.1px;">Script PID: 637</span></pre><pre class=""><span style="padding-right: 0.1px;">parameter 1st: a</span></pre><pre class=""><span style="padding-right: 0.1px;">parameter 2nd: b c</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1242px;"></div></div></div></pre><h2><a name='header-c71' class='md-header-anchor '></a>4.1 operator//used in test condition</h2><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre></div><pre class=""><span style="padding-right: 0.1px;">man test  <span class="cm-comment"># get detailed expression/operator</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># for Decimal </span></span></pre><pre class=""><span style="padding-right: 0.1px;">a <span class="cm-attribute">-le</span> b  <span class="cm-comment"># less or equal(e)</span></span></pre><pre class=""><span style="padding-right: 0.1px;">a <span class="cm-attribute">-gt</span> b  <span class="cm-comment"># greater than (t)</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">-ge</span>  <span class="cm-comment"># greater than or equal</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">-eq</span>  <span class="cm-comment"># equal</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">-lt</span> <span class="cm-comment"># less than</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">-ne</span>  <span class="cm-comment"># not equal</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># for string</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">"str1"</span> <span class="cm-operator">==</span> <span class="cm-string">"str2"</span>  <span class="cm-comment"># equal, in bash, '='/'=='</span></span></pre><pre class=""><span style="padding-right: 0.1px;">!<span class="cm-operator">=</span> <span class="cm-comment"># not equal</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">-n</span> <span class="cm-string">"</span><span class="cm-def">$Str</span><span class="cm-string">"</span>  <span class="cm-comment"># length not(n) zero</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">-z</span> <span class="cm-string">"</span><span class="cm-def">$Str</span><span class="cm-string">"</span>  <span class="cm-comment"># length zero (z)</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># for file</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">-x</span> file  <span class="cm-comment"># 1. file should exists. 2. the file should has executable permission</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">-f</span> file  <span class="cm-comment"># file exists</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">-d</span> dire  <span class="cm-comment"># directory exists</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">-p</span> pipefile  <span class="cm-comment"># file is a pipefile</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">'!'</span> identify reverse the test result</span></pre><pre class=""><span style="padding-right: 0.1px;">! <span class="cm-attribute">-x</span>  <span class="cm-comment"># if the file has not executable permission, return 0</span></span></pre><pre class=""><span style="padding-right: 0.1px;">! <span class="cm-attribute">-d</span> <span class="cm-comment"># if the directory not exists, return 0</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># for expression, variable</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-operator">+</span> <span class="cm-attribute">-</span> *</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-quote">$((a+b)</span>)  <span class="cm-comment"># variable a + variable b</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">echo</span> <span class="cm-quote">$((9+8)</span>)</span></pre><pre class=""><span style="padding-right: 0.1px;">17</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-def">var</span><span class="cm-operator">=</span>2</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">echo</span> <span class="cm-quote">$((var+8)</span>)</span></pre><pre class=""><span style="padding-right: 0.1px;">10</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] expr  <span class="cm-number">1</span> <span class="cm-operator">+</span> 2</span></pre><pre class=""><span style="padding-right: 0.1px;">3</span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 897px;"></div></div></div></pre><p></p><h2><a name='header-c75' class='md-header-anchor '></a>4.2 condition in statement//use return value</h2><p>if cmd; then  xxx ;fi</p><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> [ <span class="cm-number">0</span> <span class="cm-attribute">-eq</span> <span class="cm-number">0</span> ];then</span></pre></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span><span class="cm-builtin">echo</span> equal</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">fi</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> [ <span class="cm-number">0</span> <span class="cm-attribute">-eq</span> <span class="cm-number">0</span> ] is a command, the pass condition is the command return value 0</span></pre><pre class=""><span style="padding-right: 0.1px;">  [ <span class="cm-number">0</span> <span class="cm-attribute">-eq</span> <span class="cm-number">0</span> ]  equals command <span class="cm-string">'test 0 -eq 0'</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] test <span class="cm-number">0</span> <span class="cm-attribute">-eq</span> 0</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-builtin">echo</span> <span class="cm-def">$?</span></span></pre><pre class=""><span style="padding-right: 0.1px;">0</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] </span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-keyword">if</span> <span class="cm-builtin">mkdir</span> /root/abc <span class="cm-number">2</span>&gt;/dev/null;then</span></pre><pre class=""><span style="padding-right: 0.1px;">&gt; <span class="cm-builtin">echo</span> can</span></pre><pre class=""><span style="padding-right: 0.1px;">&gt; <span class="cm-keyword">fi</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] </span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 299px;"></div></div></div></pre><h3><a name='header-c79' class='md-header-anchor '></a>4.2.1 Use true and false as condition</h3><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-atom">true</span>/false equals as return value </span></pre></div><pre class=""><span style="padding-right: 0.1px;">command <span class="cm-atom">true</span> equals reutrn 0</span></pre><pre class=""><span style="padding-right: 0.1px;">command <span class="cm-atom">false</span> equals reutrn 1</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] <span class="cm-keyword">if</span> <span class="cm-atom">true</span>;then</span></pre><pre class=""><span style="padding-right: 0.1px;">&gt; &nbsp;  <span class="cm-builtin">echo</span> OK</span></pre><pre class=""><span style="padding-right: 0.1px;">&gt; <span class="cm-keyword">fi</span></span></pre><pre class=""><span style="padding-right: 0.1px;">OK</span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@sh] </span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">var</span><span class="cm-operator">=</span><span class="cm-atom">true</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> <span class="cm-def">$var</span>;then</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span><span class="cm-builtin">echo</span> OK</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">fi</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-def">var</span><span class="cm-operator">=</span><span class="cm-atom">false</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> <span class="cm-def">$var</span>;then</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span><span class="cm-builtin">echo</span> OK</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">fi</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 391px;"></div></div></div></pre><h2><a name='header-c81' class='md-header-anchor '></a>4.3 statements</h2><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> .. ;then</span></pre></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span>do_something;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span>do_something</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">fi</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">if</span> .. </span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">then</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span>do_something;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span>do_something</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">fi</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-string">';'</span>  <span class="cm-comment"># end of line, by default, 'enter' equals ';' </span></span></pre><pre class=""><span style="padding-right: 0.1px;">If we want to <span class="cm-builtin">write</span> several command <span class="cm-keyword">in</span> one line, we need join <span class="cm-string">';'</span> with commands</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">for</span> x <span class="cm-keyword">in</span> a b c  <span class="cm-comment"># list delimter is space, the list can be the output of some command</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">for</span> x <span class="cm-keyword">in</span>  <span class="cm-quote">`ls`</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">do</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span>do_somethind</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">done</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">while</span> cmd <span class="cm-comment"># cmd return true</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">while</span> <span class="cm-atom">true</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">while</span> : <span class="cm-comment"># ':' equals to true</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">do</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span>do_somethind</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">done</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">until</span> cmd</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">do</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span>xxx</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">done</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">case <span class="cm-string">"input"</span> <span class="cm-keyword">in</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">1</span>)</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span>;;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">2</span>)</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span>cmd;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span>cmd</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span>;;</span></pre><pre class=""><span style="padding-right: 0.1px;">*)  <span class="cm-comment"># all rest</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span>;;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">esac</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># judge one time</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;">select variable <span class="cm-keyword">in</span> [a  b .. ];</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">do</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span>do_some_thing</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">done</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># interactive control</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># e.g. let user to choose option</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># if value not match, loop will continue, always, except for 'Ctrl+D' pressed</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">#  'Ctrl+D' is universal key stroke to exit, exitshell/session/interactive prompt</span></span></pre><pre class=""><span style="padding-right: 0.1px;">[bobo@download] select option <span class="cm-keyword">in</span> <span class="cm-number">1</span> <span class="cm-number">2</span> 3</span></pre><pre class=""><span style="padding-right: 0.1px;">&gt; <span class="cm-keyword">do</span></span></pre><pre class=""><span style="padding-right: 0.1px;">&gt; <span class="cm-builtin">echo</span> <span class="cm-string">"You choose option </span><span class="cm-def">$option</span><span class="cm-string">"</span></span></pre><pre class=""><span style="padding-right: 0.1px;">&gt; <span class="cm-keyword">done</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">1</span>) 1</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">2</span>) 2</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">3</span>) 3</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">#? 2</span></span></pre><pre class=""><span style="padding-right: 0.1px;">You choose option 2</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># once select statement set, the variable is active.</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># similar to  for loop; for var in xxx</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment"># until break</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1426px;"></div></div></div></pre><h2><a name='header-c83' class='md-header-anchor '></a>4.1 flow control//loop control</h2><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-height: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><pre class=""><span style="padding-right: 0.1px;">case ... <span class="cm-keyword">esac</span>, no need to control, it only match one time</span></pre></div><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">for</span> ... <span class="cm-keyword">do</span> ... <span class="cm-keyword">done</span>  <span class="cm-comment"># </span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">1</span>. continue <span class="cm-attribute">--</span>&gt;stop execute current</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">for</span> xxx</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">do</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> continue <span class="cm-comment">#</span></span></pre><pre class=""><span style="padding-right: 0.1px;"> <span class="cm-builtin">echo</span> will not execute</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">done</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-number">2</span>. break &nbsp; <span class="cm-attribute">--</span>&gt; equals break <span class="cm-number">1</span>  <span class="cm-attribute">--</span>&gt;break one loop layer, break N</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">while</span> xx</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">do</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span><span class="cm-keyword">while</span> xx</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span><span class="cm-keyword">do</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span><span class="cm-tab">    </span>break </span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span><span class="cm-tab">    </span>break 2</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span><span class="cm-keyword">done</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span><span class="cm-builtin">echo</span> outer loop</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">done</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span>​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">## script.sh -cp xx -mv xx</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">while</span> [ <span class="cm-attribute">-n</span> <span class="cm-string">"</span><span class="cm-def">$1</span><span class="cm-string">"</span> ]</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">do</span></span></pre><pre class=""><span style="padding-right: 0.1px;">case <span class="cm-string">"</span><span class="cm-def">$1</span><span class="cm-string">"</span> <span class="cm-keyword">in</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">-cp</span>)</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span>shift  <span class="cm-comment">#  equals to shift 1, argument number will be reduced 1</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab">    </span>;;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-attribute">-mv</span>)</span></pre><pre class=""><span style="padding-right: 0.1px;">...</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">esac</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 0px;"></div><div class="CodeMirror-gutters" style="display: none; height: 690px;"></div></div></div></pre><p></p><h1><a name='header-c87' class='md-header-anchor '></a>5.Most common commands:</h1><p>sort/grep/cut/date/ps/expr</p><h1><a name='header-c90' class='md-header-anchor '></a>6.PIPE，HereDoc，STDIN/STDOUT，redirect，operator，special file(fifo,link)</h1><h1><a name='header-c91' class='md-header-anchor '></a>7.Function, arguments</h1><h1><a name='header-c92' class='md-header-anchor '></a>8.shell statements(while,for,if..)</h1><h1><a name='header-c93' class='md-header-anchor '></a>9.awk basis(variable，string，statements,pattern&amp;action）</h1><h1><a name='header-c94' class='md-header-anchor '></a>10.sed basis(AIX)</h1><h1><a name='header-c95' class='md-header-anchor '></a>11.Regex/Glob/Wildcard</h1><h1><a name='header-c96' class='md-header-anchor '></a>12.Different between AIX/Linux commands</h1><h1><a name='header-c97' class='md-header-anchor '></a>13.Debug shell script</h1></div>
</body>
</html>